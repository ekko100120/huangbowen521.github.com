<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: AWS | 黄博文的地盘]]></title>
  <link href="http://www.huangbowen.net/blog/categories/aws/atom.xml" rel="self"/>
  <link href="http://www.huangbowen.net/"/>
  <updated>2018-01-05T16:06:46+08:00</updated>
  <id>http://www.huangbowen.net/</id>
  <author>
    <name><![CDATA[黄博文]]></name>
    <email><![CDATA[huangbowen521@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[AWS认证权威考经（助理级认证篇）]]></title>
    <link href="http://www.huangbowen.net/blog/2017/06/08/hwo-to-pass-aws-certifications/"/>
    <updated>2017-06-08T22:13:54+08:00</updated>
    <id>http://www.huangbowen.net/blog/2017/06/08/hwo-to-pass-aws-certifications</id>
    <content type="html"><![CDATA[<p>笔者作为AWS官方认证的早期通过者，已经拿到了AWS的助理级解决方案架构师、开发者认证，系统管理员认证。这几年也陆续指导公司多人通过AWS的认证。本篇文章将分享如何通过自学的方式轻松通过AWS的助理级架构师、开发者和系统管理员认证。</p>

<!-- more -->


<h2>为什么要考证</h2>

<p>在讲述AWS的认证体系之前，我们可以先探讨一下为什么要考取这样的认证。根据我接触的考证的人，总结出考证的原因主要是以下几个方面：</p>

<ol>
<li><p>通过考证提高自己的竞争力。这是大部分想考证的人的目的。<a href="https://blog.cbtnuggets.com/2016/07/10-high-paying-it-certifications/">https://blog.cbtnuggets.com/2016/07/10-high-paying-it-certifications/</a>一文中列出了IT领域薪资最高的10个证书，第一名就是AWS解决方案架构师认证。拿到认证的人员的平均年薪为125,871美元。在云计算领域，AWS是当之无愧的NO.1。阿里云在早期就是对标AWS，很多服务都是参照AWS做的。不过阿里云在国内市场的环境下也有创新，比如其开发的云盾产品，在各大云计算厂商中走到了前面。AWS随后也推出了类似的产品。</p></li>
<li><p>公司或部门要求员工考证。现在越来越的传统组织和企业拥抱公有云。据资料统计，目前有将近60%的国内网站运行在阿里云上。在拥抱云计算的同时，这些企业内的IT组织人员就需要掌握云计算相关的知识和技能。而考取认证可能就会成为企业和部门对公司部分员工的要求。另外云计算是一个很大的市场，除了各大云计算厂商外，他们都有很多合作伙伴。AWS也不例外。而要成为AWS的合作伙伴，则对公司内部考取认证的人数有一定要求。这也促使这些合作伙伴要求员工考证。</p></li>
<li><p>通过考证检验自己的技能学习情况。笔者就属于这个原因。笔者自从2012年接触AWS，至今已经将近5年。笔者在2013年通过了AWS的助理级解决方案架构师认证。后来也通过了开发者认证。目前正在积极备战解决方案架构师认证。</p></li>
</ol>


<p>其实无论考证是处于什么目的，我想说应该抱着掌握AWS服务的使用的目的来学习AWS，考证只是对自己掌握情况的检验。有个考取了专家级解决方案架构师认证的同事打过这样一个比喻，AWS认证就像是一名登山者所带的一盒午餐，当他爬到山顶后，可以享用这盒午餐。而他收获的肯定不仅仅是这盒午餐，而是沿途上的风景，午餐只是附赠品。如果单纯为了花费最小的力气来通过认证，往往会事倍功半。</p>

<h2>AWS的认证体系</h2>

<p>AWS的认证有路线图，主要分为Architecting（架构）、Developing（开发）、Operations（运维）三条线。每条线又分为助理级认证和专家级认证，必须通过助理级认证后才能考取相应的专家级认证。架构这条线的两个认证为助理级解决方案架构师认证和专家级解决方案架构师认证。开发这条线的两个认证为开发者认证和DevOps工程师认证。运维这条线的两个认证为SysOps系统管理员认证和DevOps工程师认证。也就是说开发和运维两条线的专家级认证是同一个证书。</p>

<p><img src="/images/aws_certs_line.png" width="500"></p>

<p>举个例子，如果想考取专家级解决方案架构师认证，那必须先考取助理级解决方案架构师认证才行。而要考取DevOps工程师认证，则先要考取开发者认证或SysOps系统管理员认证两个证中其中最少一个。</p>

<p>另外每个证书都有有效期，其有效期为两年。到期之后可以重新认证。重新认证的费用和题量减半。由于云计算现在还处于高速发展的阶段，AWS每年都会推出很多新的云服务，也会对现有的服务升级。为了避免你掌握的知识过时，设置证书两年过期还是比较合理的。</p>

<p>本书主要讲述三个助理级认证的考经，由于专家级认证考试范围、考试难度、备考方式完全不一样，所以本文不会过多涉及。</p>

<h2>选择适合自己的证书</h2>

<p>根据笔者的了解，助理级认证中考取解决方案架构师的居多，而开发者和SysOps的人比较少。可能是因为每个IT技术人员都有一个当架构师的梦吧。其实笔者从考试经验来说，无论你选择哪种助理级证书，在备考的时候其实都是差不多的。也就是说用一种备考方式，可以三证通吃。根据笔者的经验，这三个证书考取的难易程度如下：开发者认证&lt;助理级解决方案架构师认证&lt;SysOps系统管理员认证。也就是说开发者认证难度最小，SysOps系统管理员认证稍难些，助理级解决方案架构师认证居中。</p>

<p>每个认证都有一个考试指南，目前只有英文版。上面有对想考取认证的人员的AWS知识和IT知识有要求。大家可以根据这些要求来判断自己考取哪个证书更有把握。</p>

<p>AWS助理级解决方案架构师的考试指南地址为：<a href="http://awstrainingandcertification.s3.amazonaws.com/production/AWS_certified_solutions_architect_associate_blueprint.pdf">http://awstrainingandcertification.s3.amazonaws.com/production/AWS_certified_solutions_architect_associate_blueprint.pdf</a>。</p>

<p>AWS开发者认证的考试指南地址为：<a href="http://awstrainingandcertification.s3.amazonaws.com/production/AWS_certified_developer_associate_blueprint.pdf">http://awstrainingandcertification.s3.amazonaws.com/production/AWS_certified_developer_associate_blueprint.pdf</a>。</p>

<p>AWS SysOps系统管理员认证的考试指南地址为：<a href="http://awstrainingandcertification.s3.amazonaws.com/production/AWS_certified_sysops_associate_blueprint.pdf">http://awstrainingandcertification.s3.amazonaws.com/production/AWS_certified_sysops_associate_blueprint.pdf</a>。</p>

<p>我们以开发者认证的要求为例，看看想考取该证书需要具备什么样的能力。</p>

<p>AWS知识：</p>

<ul>
<li>使用AWS技术的专业经验</li>
<li>使用AWS API的实战经验</li>
<li>了解AWS安全最佳实践</li>
<li>了解自动化和AWS部署工具</li>
<li>了解存储选项和其低层的一致性模型</li>
<li>非常了解至少一种AWS SDK</li>
</ul>


<p>通用IT知识：</p>

<ul>
<li>了解无状态和松散耦合的分布式应用程序</li>
<li>熟悉RESTful API接口开发</li>
<li>对关系型和非关系型数据的理解</li>
<li>熟悉消息和队列服务</li>
</ul>


<p>如果你目前还未达到指定的要求，没关系。至少知道了自己的薄弱点，通过学习补强再考。</p>

<h2>证书题型和考试相关</h2>

<p>目前助理级证书都提供英文和中文试卷。这对于英文不好的同学是一个福音。（想当年笔者考试的时候只有英文试卷）。助理级考试有模拟考试和正式考试。模拟考试为费用为20美元，共有20道题目，考试时间为30分钟。注意模拟考试最多考一次就行了。因为第二次的题目会和第一次的题目一模一样。正式考试费用为150美元，也可以通过中国认证合作伙伴通过人民币购买，费用为1,150人民币。正式考试有55道题，考试时间为80分钟。</p>

<p>AWS的认证题目都是选择题，有单选题和多选题。多选题题目会明确的告诉你有几个正确选项。每个助理级认证都有相应的样题，供你熟悉考试题型。</p>

<p>AWS 助理级解决方案架构师认证的样题及解析可参见我的博客：<a href="http://www.huangbowen.net/blog/2014/10/22/aws-cert-sample-question/">http://www.huangbowen.net/blog/2014/10/22/aws-cert-sample-question/</a>。</p>

<p>AWS 开发者认证的样题及解析可参见我的博客：<a href="http://www.huangbowen.net/blog/2016/07/27/aws-developer-exam-sample-questions/">http://www.huangbowen.net/blog/2016/07/27/aws-developer-exam-sample-questions/</a>。</p>

<p>AWS SysOps系统管理员认证的样题及解析可参见我的博客：<a href="http://www.huangbowen.net/blog/2016/08/01/aws-sysops-exam-sample/">http://www.huangbowen.net/blog/2016/08/01/aws-sysops-exam-sample/</a>。</p>

<p>我们可以助理级解决方案架构师认证的几个题目作为示例。</p>

<p>Amazon Glacier is designed for: (Choose 2 answers)</p>

<p>A.active database storage.</p>

<p>B.infrequently accessed data.</p>

<p>C.data archives.</p>

<p>D.frequently accessed data.</p>

<p>E.cached session data.</p>

<p>这是一个典型的多选题。题目明确告诉有两个正确选项。正确答案为B何C。因为AWS官方文档是这样描述Glacier的：</p>

<blockquote><p>Amazon Glacier is an extremely low-cost cloud archive storage service that provides secure and durable storage for data archiving and online backup. In order to keep costs low, Amazon Glacier is optimized for data that is infrequently accessed and for which retrieval times of several hours are suitable.</p></blockquote>

<p>段落出处为：<a href="http://aws.amazon.com/glacier/?nc2=h_ls">http://aws.amazon.com/glacier/?nc2=h_ls</a></p>

<p>Your web application front end consists of multiple EC2 instances behind an Elastic Load Balancer. You configured ELB to perform health checks on these EC2 instances. If an instance fails to pass health checks, which statement will be true?</p>

<p>A.The instance is replaced automatically by the ELB.</p>

<p>B.The instance gets terminated automatically by the ELB.</p>

<p>C.The ELB stops sending traffic to the instance that failed its health check.</p>

<p>D.The instance gets quarantined by the ELB for root cause analysis.</p>

<p>这是一个单选题，正确答案为C。因为AWS官方文档有这样一项描述：</p>

<blockquote><p>Elastic Load Balancing ensures that only healthy Amazon EC2 instances receive traffic by detecting unhealthy instances and rerouting traffic across the remaining healthy instances.</p></blockquote>

<p>本段落的出处为：<a href="http://aws.amazon.com/elasticloadbalancing/?nc2=h_ls">http://aws.amazon.com/elasticloadbalancing/?nc2=h_ls</a>。</p>

<p>考试并没有详细的分数线。AWS 认证的分数线是依据统计分析结果来设定的，并不固定。AWS 不会公布考试的分数线，因为试题和分数线可能会更改而不另行通知。2013年的时候，根据经验一般正确率达到65%以上就可以通过考试，拿到认证。但近年来这个比例也在上升。目前至少要70%以上才有保险拿到证书。</p>

<h2>认证准备篇</h2>

<p>其实没有必要被认证的考试指南中的要求吓到。有些技能我们可能目前不具备，但可以通过学习来掌握。</p>

<p>AWS目前有近百项服务，分为18个类别。要想全部掌握要花的时间可不少。不过如果想通过AWS的助理级认证，只需要熟悉掌握主要的服务即可。对其他服务只需要明白其使用场景以及一些应用限制。</p>

<p>我认为需要熟练掌握的服务：</p>

<ul>
<li>Amazon EC2</li>
<li>Amazon VPC</li>
<li>Amazon S3</li>
<li>Amazon EBS</li>
<li>Amazon RDS</li>
<li>Amazon DynamoDB</li>
<li>Elastic Load Balancing</li>
<li>Amazon CloudWatch</li>
<li>AWS Identity &amp; Access Management</li>
<li>Amazon Simple Queue Service</li>
</ul>


<p>知道其应用场景和限制条件的服务有：</p>

<ul>
<li>Amazon Glacier</li>
<li>Amazon ElastiCache</li>
<li>Amazon Redshift</li>
<li>Amazon CloudFront</li>
<li>Amazon Route53</li>
<li>AWS CloudFormation</li>
<li>AWS Config</li>
<li>AWS CloudTrial</li>
<li>AWS WAF</li>
<li>Amazon Simple Notification Service</li>
<li>Amazon Simple Email Service</li>
<li>AWS Import/Export</li>
<li>AWS connect</li>
</ul>


<p>对于需要熟练掌握的服务，每个必须都要进行实战演练。而第二类服务，如果不想花费太多时间，可以不必进行实战演练，查看相关的文档即可。</p>

<p>在开始学习之前，请先去aws.amazon.com的官网注册一个新的账号。因为AWS对于新的账号有free tier（免费套餐）服务。AWS 免费套餐服务/产品包括自 AWS 注册之日起 12 个月内可供免费使用的服务，以及在 AWS 免费套餐的 12 个月期限到期后不自动过期的其他服务/产品。我上面列出的所有服务基本上都在AWS免费套餐范围内。拿Amazon EC2来说，在新账号注册后的12月内，你可以享受750 小时 每月 Linux、RHEL 或 SLES t2.micro 实例使用时间，以及750 小时 每月 Windows t2.micro 实例使用时间。 例如，运行 1 个实例 1 个月，或运行 2 个实例半个月都是免费的。这样的免费套餐足够我们进行实战演练了。注意账号时需要绑定一张自己的信用卡，否则无法注册成功。</p>

<p>注意目前AWS分为中国区和全球区，中国区和全球区的账号是不能通用的。并且中国区账号并没有免费套餐服务，所以只有注册全球区的账号才可以使用免费套餐服务。</p>

<h3>认识并熟悉专业术语</h3>

<p>在学习AWS初期，你一定会听到各种各样的缩写词，很容易迷失。这些专业术语有的是和AWS服务紧密相关的，比如ELB（Elastic Load Balancing服务的缩写）、SQS（Amazon Simple Queue Service的缩写）等。有些是跟网络安全紧密相关的，比如ACL、AAD、SG、MFA等；有跟应用程序服务相关的，比如SOAP、WSDL、WAF等。每当你看到一个不懂的术语时，先记下来，然后弄清楚它的意思。这样随着时间的推移不懂的术语会越来越少。你可以查看AWS官方的术语表来进行巩固。英文版本为<a href="http://docs.aws.amazon.com/general/latest/gr/glos-chap.html">http://docs.aws.amazon.com/general/latest/gr/glos-chap.html</a>。中文版本为<a href="http://docs.aws.amazon.com/zh_cn/general/latest/gr/glos-chap.html">http://docs.aws.amazon.com/zh_cn/general/latest/gr/glos-chap.html</a>。</p>

<h3>学会查看AWS官方文档</h3>

<p>要学习AWS，最好的文档当然是AWS的官方文档。目前AWS的官方文档有80%都进行了汉化处理。也就是说如果英文不是很好的同学可以看中文的文档。</p>

<p>访问<a href="https://aws.amazon.com/cn/products/?nc2=h_ql_ny_gsc">https://aws.amazon.com/cn/products/?nc2=h_ql_ny_gsc</a>可以看到AWS提供的所有服务，最上面的菜单可以切换语言。我们以想要了解EC2为例，点击计算类别，可以看到Amazon EC2。点击该服务后就会进入Amazon EC2的主页<a href="https://aws.amazon.com/cn/ec2/?p=tile">https://aws.amazon.com/cn/ec2/?p=tile</a>。这里列出了EC2的介绍以及其优势。这些内容务必仔细学习，能够让你迅速了解一门产品并且明白其使用场景和优势。</p>

<p>点击菜单栏的产品详细信息可以进入到另一个页面：<a href="https://aws.amazon.com/cn/ec2/details/">https://aws.amazon.com/cn/ec2/details/</a>。这里不仅有产品详情，还有开发人员资源、常见问题以及入门手册。如果想动手练习对EC2的使用，可以访问<a href="https://aws.amazon.com/cn/documentation/ec2/">https://aws.amazon.com/cn/documentation/ec2/</a>。里面提供了HTML/PDF/Kindle三种格式的入门指南。可以按照入门指南的操作步骤进行操作学习。</p>

<p>每个服务都有常见问题页，比如EC2的常见问题页是<a href="https://aws.amazon.com/cn/ec2/faqs/">https://aws.amazon.com/cn/ec2/faqs/</a>。每个服务的常见问题页都必须要熟读并掌握，因为至少70%的考题的答案都可以在常见问题中找到。但是单纯背诵这些内容是无意义的，很容易忘记。必须要明白AWS每个问题的答案的背后意义，这样才有助于记忆。</p>

<h3>查看AWS的白皮书</h3>

<p>AWS官方文档对每个服务介绍的非常详细，但内容很多，看起来比较累。而AWS的白皮书则总结了使用AWS的一些最佳实践和方式，并针对一些具体场景结合相应服务的特点给出了最适合的架构设计。<a href="https://aws.amazon.com/cn/whitepapers/">https://aws.amazon.com/cn/whitepapers/</a>列出了AWS的所有白皮书。重点需要掌握的白皮书有：</p>

<ul>
<li><a href="https://d0.awsstatic.com/whitepapers/AWS_Cloud_Best_Practices.pdf">云架构设计：AWS 最佳实践</a></li>
<li><a href="https://d0.awsstatic.com/whitepapers/Security/AWS_Security_Best_Practices.pdf?refid=em_">AWS 安全最佳实践</a></li>
<li><a href="http://d0.awsstatic.com/whitepapers/Security/AWS%20Security%20Whitepaper.pdf">Amazon Web Services：安全流程概览</a></li>
<li><a href="https://d0.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf">AWS 架构完善的框架</a></li>
<li><a href="http://media.amazonwebservices.com/AWS_Development_Test_Environments.pdf">AWS 上的开发和测试</a></li>
<li><a href="https://d0.awsstatic.com/whitepapers/Backup_Archive_and_Restore_Approaches_Using_AWS.pdf">使用 AWS 的备份与恢复方法</a></li>
<li><a href="http://media.amazonwebservices.com/AWS_Amazon_VPC_Connectivity_Options.pdf">Amazon Virtual Private Cloud 连接选项</a></li>
<li><a href="http://d0.awsstatic.com/whitepapers/aws_pricing_overview.pdf">AWS 的定价机制</a>。</li>
</ul>


<h3>视频和辅助网站</h3>

<p>除了实战操作、查看文档外，观看视频也是学习的途径之一。Youtube有很多操作视频可以观看。另外<a href="https://acloud.guru/">cloudguru</a>和<a href="https://linuxacademy.com">LinuxAcademy</a>网站上也有大量的视频教程。Cloudguru和LinuxAcademy都是需要付费的。LinuxAcademy按月付费为29美元每月，年度费用为228美元。Cloudgruru则按课程收费，比如助理级架构师认证课程费用为29美元。另外还提供打包服务，全部AWS课程的打包服务为149美元，共7门课。我备战AWS考试的时候都用过这两个网站的服务。总体感觉Linux
Academy的课程要丰富一些，并且便宜。这两个网站都提供一站式的服务。在这里你既可以观看视频学习，也可以通过其创建的AWS资源进行免费操练，更可以疯狂刷模拟题。注意这两个网站中的模拟题比正式考题的题目要简单些。模拟题的题库也不大，比如助理级架构师的题库有300多道题。我当时是刷穿了，基本上300道题做完只会错3、4道。</p>

<h2>备考计划篇</h2>

<p>一个没有什么AWS使用经验的IT工作人员，想要考取AWS助理级认证还是要花些时间的。但时间也不是想象中的那么长。我第一个认证当时认真准备了1个半月。每天至少花3个小时，最后以65%的准确率惊险过关。而第二个证则只准备了1周多，只花了20多分钟就做完了55道题，准确率达90%以上，轻松过关。根据我经验判断，如果没有AWS相关的使用经验，每天投入三小时的话，最多3个月就可以去考试了。因为需要熟练掌握的服务差不多有10多个，每三天掌握一个，需要30天的时间，而需要了解的服务也有10多个，每两天掌握一个，需要22天。剩下的一个月可以阅读白皮书、动手做实验加强理解、在网站上刷题，补充薄弱点。</p>

<p>每学习一个服务时，要求动手与文档相结合。尤其是必须要理解AWS管理控制台上操作时每个选项的具体含义。一般官方文档都会给出其具体意义。另外文档也会包含有实战中了解不到的内容。比如个人账户最多只能开启20个EC2，再多就需要申请；SQS消息队列中消息默认的存活时间是14天；S3中存储的最小对象可以为0KB等。这些都有可能会成为考试内容。</p>

<p>个人建议每学习一个服务都要动手记下笔记。俗话说眼过千遍不如手过一遍。这样也可以避免学习了后面的忘记的前面的。笔记可以时不时拿出来复习一下。</p>

<h2>考试篇</h2>

<p>访问<a href="https://www.aws.training/certification?src=cert-prep">https://www.aws.training/certification?src=cert-prep</a>可以安排一场模拟考试或者正式考试。模拟考试在网上可以直接进行。正式考试则需要去相应的考点。目前在中国有成都、重庆、北京、上海、广州、杭州、长沙、大连、济南、南京、青岛、深圳、苏州、武汉、西安、厦门、郑州等城市设有考点。周一和周五都可以考试，一般提前一周报名注册即可。</p>

<p>正式考试时需要带上个人有效证件（比如身份证、护照、户口本）等。考试一本是一个单独的房间，只有你一个人，使用的电脑是考试方提供的电脑。我的几次考试都是在成都考的。成都这边的网络比较差劲，答完一道题后，需要等好几秒才能进入下一题。虽然页面刷新时计时器会暂停，但是非常影响节奏。考试的时候只能带笔和草稿纸，不能带任何电子设备，手机等需要放在外面。做完以后可以提前交卷，也可以等时间到以后自动交卷。交完卷后你会立马知道自己的成绩以及通过与否。</p>

<p>正式考试80分钟要答55道题，每道题的时间只有不到2分钟，所以时间很紧促。由于所有的题目都是选择题，那么有一个窍门是在一张A4纸上划上下面一个表格：</p>

<p><img src="/images/examtips.png" width="500"></p>

<p>每道题为一行，对于认为绝对错误的选项划x，对于认为正确的选项划o,对于不确定的选项划？。这样有助于整理思路，然后回头检查时可以缩小范围，提高准确率。</p>

<h2>总结</h2>

<p>洋洋洒洒写了很多，最后再快速总结一下。</p>

<p>需要熟练掌握的服务（需要了解它们的方方面面）：</p>

<ul>
<li>Amazon EC2</li>
<li>Amazon VPC</li>
<li>Amazon S3</li>
<li>Amazon EBS</li>
<li>Amazon RDS</li>
<li>Amazon DynamoDB</li>
<li>Elastic Load Balancing</li>
<li>Amazon CloudWatch</li>
<li>AWS Identity &amp; Access Management</li>
<li>Amazon Simple Queue Service</li>
</ul>


<p>知道其应用场景和限制条件的服务有：</p>

<ul>
<li>Amazon Glacier</li>
<li>Amazon ElastiCache</li>
<li>Amazon Redshift</li>
<li>Amazon CloudFront</li>
<li>Amazon Route53</li>
<li>AWS CloudFormation</li>
<li>AWS Config</li>
<li>AWS CloudTrial</li>
<li>AWS WAF</li>
<li>Amazon Simple Notification Service</li>
<li>Amazon Simple Email Service</li>
<li>AWS Import/Export</li>
<li>AWS connect</li>
</ul>


<p>备考路线图：</p>

<ol>
<li>先注册AWS账号</li>
<li>阅读各个认证的考试大纲及样题</li>
<li>查看AWS常见问题页</li>
<li>根据官网文档依次学习上面的列出的服务；第一类服务需要大量的实战操作，第二类服务实战操作不是强制性，但文档需要查看；</li>
<li>查看各个服务的常见问题页</li>
<li>阅读AWS白皮书，尤其是列出的那些白皮书是必读的</li>
<li>做一遍官方模拟题</li>
<li>如果买了Cloudguru或LinuxAcademy的服务的话，可以疯狂刷网站提供的模拟考试，争取题库中的题目正确率在95%以上。</li>
<li>可以去考试了。</li>
</ol>


<p>平心而论，AWS认证的含金量还是比较高的。因为它的考试题目（尤其是专家级的考试题目）都是综合性的，不会考什么冷僻知识点，都是现实使用中会碰到的问题。尤其是我在备战专家级解决方案架构师的认证中，了解了各种实际场景下如何结合云计算提供的服务进行架构设计。自己的架构设计能力得到了真正的提高。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AWS的SysOps认证考试样题解析]]></title>
    <link href="http://www.huangbowen.net/blog/2016/08/01/aws-sysops-exam-sample/"/>
    <updated>2016-08-01T17:47:01+08:00</updated>
    <id>http://www.huangbowen.net/blog/2016/08/01/aws-sysops-exam-sample</id>
    <content type="html"><![CDATA[<p>刚考过了AWS的developer认证，顺手做了一下SysOps的样题。以下是题目和答案。</p>

<!-- more -->


<hr />

<p>When working with Amazon RDS, by default AWS is responsible for implementing which two management-related activities? (Pick 2 correct answers)</p>

<ol type="a">
<li><p>Importing data and optimizing queries</p></li>
<li><p>Installing and periodically patching the database software</p></li>
<li><p>Creating and maintaining automated database backups with a point-in-time recovery of up to five minutes</p></li>
<li><p>Creating and maintaining automated database backups in compliance with regulatory long-term retention requirements</p></li>
</ol>


<p>答案：B C</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.html">http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.html</a></p>

<hr />

<p>You maintain an application on AWS to provide development and test platforms for your developers.</p>

<p>Currently both environments consist of an m1.small EC2 instance. Your developers notice performance degradation as they increase network load in the test environment.</p>

<p>How would you mitigate these performance issues in the test environment?</p>

<ol type="a">
<li><p>Upgrade the m1.small to a larger instance type</p></li>
<li><p>Add an additional ENI to the test instance</p></li>
<li><p>Use the EBS optimized option to offload EBS traffic</p></li>
<li><p>Configure Amazon Cloudwatch to provision more network bandwidth when network utilization exceeds 80%</p></li>
</ol>


<p>答案：A</p>

<p>解析：添加ENI并不会增加带宽；m1.small机器类型没有EBS optimized option;network utilisation与机器类型相关，无法对m1.small provision更多的带宽</p>

<hr />

<p>Per the AWS Acceptable Use Policy, penetration testing of EC2 instances:</p>

<ol type="a">
<li><p>may be performed by the customer against their own instances, only if performed from EC2 instances.</p></li>
<li><p>may be performed by AWS, and is periodically performed by AWS.</p></li>
<li><p>may be performed by AWS, and will be performed by AWS upon customer request.</p></li>
<li><p>are expressly prohibited under all circumstances.</p></li>
<li><p>may be performed by the customer against their own instances with prior authorization from AWS.</p></li>
</ol>


<p>答案：E</p>

<p>参考文档：<a href="https://aws.amazon.com/security/penetration-testing/">https://aws.amazon.com/security/penetration-testing/</a></p>

<hr />

<p>You have been tasked with identifying an appropriate storage solution for a NoSQL database that requires random I/O reads of greater than 100,000 4kB IOPS.</p>

<p>Which EC2 option will meet this requirement?</p>

<ol type="a">
<li><p>EBS provisioned IOPS</p></li>
<li><p>SSD instance store</p></li>
<li><p>EBS optimized instances</p></li>
<li><p>High Storage instance configured in RAID 10</p></li>
</ol>


<p>答案：B</p>

<p>解析：这道题只有SSD instance store能提供10万的IOPS</p>

<hr />

<p>Instance A and instance B are running in two different subnets A and B of a VPC. Instance A is not able to ping instance B.</p>

<p>What are two possible reasons for this? (Pick 2 correct answers)</p>

<ol type="a">
<li><p>The routing table of subnet A has no target route to subnet B</p></li>
<li><p>The security group attached to instance B does not allow inbound ICMP traffic</p></li>
<li><p>The policy linked to the IAM role on instance A is not configured correctly</p></li>
<li><p>The NACL on subnet B does not allow outbound ICMP traffic</p></li>
</ol>


<p>答案：B D</p>

<p>解析：同一个VPC下的所有subnet默认可以相互连接，所以A不对；ping连接不需要什么AWS权限，所以C也不对。而控制机器访问有两层，一层是给subnet指定的ACL，另一层是给机器指定的SG。</p>

<hr />

<p>Your web site is hosted on 10 EC2 instances in 5 regions around the globe with 2 instances per region.</p>

<p>How could you configure your site to maintain site availability with minimum downtime if one of the 5 regions was to lose network connectivity for an extended period of time?</p>

<ol type="a">
<li><p>Create an Elastic Load Balancer to place in front of the EC2 instances. Set an appropriate health check on each ELB.</p></li>
<li><p>Establish VPN Connections between the instances in each region. Rely on BGP to failover in the case of a region wide connectivity outage</p></li>
<li><p>Create a Route 53 Latency Based Routing Record Set that resolves to an Elastic Load Balancer in each region. Set an appropriate health check on each ELB.</p></li>
<li><p>Create a Route 53 Latency Based Routing Record Set that resolves to Elastic Load Balancers in each region and has the Evaluate Target Health flag set to true.</p></li>
</ol>


<p>答案：D</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-failover-complex-configs.html">http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-failover-complex-configs.html</a></p>

<p>解析：只有开启了Evaluate Target Health flag，Route53才会根据健康情况进行路由</p>

<hr />

<p>You run a stateless web application with the following components: Elastic Load Balancer (ELB), 3 Web/Application servers on EC2, and 1 MySQL RDS database with 5000 Provisioned IOPS. Average response time for users is increasing. Looking at CloudWatch, you observe 95% CPU usage on the Web/Application servers and 20% CPU usage on the database. The average number of database disk operations varies between 2000 and 2500.</p>

<p>Which two options could improve response times? (Pick 2 correct answers)</p>

<ol type="a">
<li><p>Choose a different EC2 instance type for the Web/Application servers with a more appropriate
CPU/memory ratio</p></li>
<li><p>Use Auto Scaling to add additional Web/Application servers based on a CPU load threshold</p></li>
<li><p>Increase the number of open TCP connections allowed per web/application EC2 instance</p></li>
<li><p>Use Auto Scaling to add additional Web/Application servers based on a memory usage threshold</p></li>
</ol>


<p>答案：A B</p>

<p>解析：这里是application机器CPU过载，解决方式是要不加强application机器性能，要不增加更多的application机器，C没有用，D是基于内存门槛，所以都不对</p>

<hr />

<p>Which features can be used to restrict access to data in S3? (Pick 2 correct answers)</p>

<ol type="a">
<li><p>Create a CloudFront distribution for the bucket.</p></li>
<li><p>Set an S3 bucket policy.</p></li>
<li><p>Use S3 Virtual Hosting.</p></li>
<li><p>Set an S3 ACL on the bucket or the object.</p></li>
<li><p>Enable IAM Identity Federation.</p></li>
</ol>


<p>答案：B D</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/using-iam-policies.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/using-iam-policies.html</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html</a></p>

<hr />

<p>You need to establish a backup and archiving strategy for your company using AWS. Documents should be immediately accessible for 3 months and available for 5 years for compliance reasons.</p>

<p>Which AWS service fulfills these requirements in the most cost effective way?</p>

<ol type="a">
<li><p>Use StorageGateway to store data to S3 and use life-cycle policies to move the data into Redshift for
long-time archiving</p></li>
<li><p>Use DirectConnect to upload data to S3 and use IAM policies to move the data into Glacier for longtime
archiving</p></li>
<li><p>Upload the data on EBS, use life-cycle policies to move EBS snapshots into S3 and later into Glacier
for long-time archiving</p></li>
<li><p>Upload data to S3 and use life-cycle policies to move the data into Glacier for long-time archiving</p></li>
</ol>


<p>答案：D</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/object-lifecycle-mgmt.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/object-lifecycle-mgmt.html</a></p>

<p>解析：S3可以存放经常使用的文档，然后存档文件可以使用life-cycle policies放置到Glacier上</p>

<hr />

<p>Given the following IAM policy:</p>

<pre><code class="javascript">
{
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Action": [
"s3:Get*", "s3:List*"
],
"Resource": "*"
},
{
"Effect": "Allow",
"Action": "s3:PutObject",
"Resource": "arn:aws:s3:::corporate_bucket/*"
}
]
}
</code></pre>

<p>What does the IAM policy allow? (Pick 3 correct answers)</p>

<ol type="a">
<li><p>The user is allowed to read objects from all S3 buckets owned by the account</p></li>
<li><p>The user is allowed to write objects into the bucket named &lsquo;corporate_bucket&rsquo;</p></li>
<li><p>The user is allowed to change access rights for the bucket named &lsquo;corporate_bucket&rsquo;</p></li>
<li><p>The user is allowed to read objects in the bucket named &lsquo;corporate_bucket&rsquo; but not allowed to list the objects
in the bucket</p></li>
<li><p>The user is allowed to read objects from the bucket named &lsquo;corporate_bucket&rsquo;</p></li>
</ol>


<p>答案：A B E</p>

<p>解析：AWS的权限认证遵循最小化原则。即：默认情况都是deny的；显式allow会覆盖默认deny；显式deny会覆盖显式allow。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AWS开发人员认证考试样题解析]]></title>
    <link href="http://www.huangbowen.net/blog/2016/07/27/aws-developer-exam-sample-questions/"/>
    <updated>2016-07-27T11:40:02+08:00</updated>
    <id>http://www.huangbowen.net/blog/2016/07/27/aws-developer-exam-sample-questions</id>
    <content type="html"><![CDATA[<p>最近在准备AWS的开发人员考试认证。所以特意做了一下考试样题。每道题尽量给出了文档出处以及解析。</p>

<!-- more -->


<hr />

<p>Which of the following statements about SQS is true?</p>

<ol type="a">
<li><p>Messages will be delivered exactly once and messages will be delivered in First in, First out order</p></li>
<li><p>Messages will be delivered exactly once and message delivery order is indeterminate</p></li>
<li><p>Messages will be delivered one or more times and messages will be delivered in First in, First out order</p></li>
<li><p>Messages will be delivered one or more times and message delivery order is indeterminate</p></li>
</ol>


<p>答案：D</p>

<p>参考文档：<a href="https://aws.amazon.com/sqs/faqs/">https://aws.amazon.com/sqs/faqs/</a></p>

<p>解析：SQS为了保持高可用，会在多个服务器间duplicate消息，所以消息可能会被delivery多次，但会保证至少被delivery一次；另外由于分布式的特性，所以消息的delivery顺序无法得到保证</p>

<hr />

<p>EC2 instances are launched from Amazon Machine Images (AMIs). A given public AMI:</p>

<ol type="a">
<li><p>can be used to launch EC2 instances in any AWS region</p></li>
<li><p>can only be used to launch EC2 instances in the same country as the AMI is stored</p></li>
<li><p>can only be used to launch EC2 instances in the same AWS region as the AMI is stored</p></li>
<li><p>can only be used to launch EC2 instances in the same AWS availability zone as the AMI is stored</p></li>
</ol>


<p>答案：C</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html</a></p>

<p>解析：AMI只在当前region可用（不过AMI的ID是global范围内唯一的）；如果想跨region的话需要copy到其它region。</p>

<hr />

<p>Company B provides an online image recognition service and utilizes SQS to decouple system
components for scalability. The SQS consumers poll the imaging queue as often as possible to keep endto-end
throughput as high as possible. However, Company B is realizing that polling in tight loops is
burning CPU cycles and increasing costs with empty responses. How can Company B reduce the number
of empty responses?</p>

<ol type="a">
<li><p>Set the imaging queue VisibilityTimeout attribute to 20 seconds</p></li>
<li><p>Set the imaging queue ReceiveMessageWaitTimeSeconds attribute to 20 seconds</p></li>
<li><p>Set the imaging queue MessageRetentionPeriod attribute to 20 seconds</p></li>
<li><p>Set the DelaySeconds parameter of a message to 20 seconds</p></li>
</ol>


<p>答案：B</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-long-polling.html">http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-long-polling.html</a></p>

<p>解析：这个需要使用SQS的long pulling；方式之一就是设置queue的ReceiveMessageWaitTimeSeconds属性</p>

<hr />

<p>You attempt to store an object in the US-STANDARD region in Amazon S3, and receive a confirmation
that it has been successfully stored. You then immediately make another API call and attempt to read
this object. S3 tells you that the object does not exist. What could explain this behavior?</p>

<ol type="a">
<li><p>US-STANDARD uses eventual consistency and it can take time for an object to be readable in a bucket.</p></li>
<li><p>Objects in Amazon S3 do not become visible until they are replicated to a second region.</p></li>
<li><p>US-STANDARD imposes a 1 second delay before new objects are readable</p></li>
<li><p>You exceeded the bucket object limit, and once this limit is raised the object will be visible.</p></li>
</ol>


<p>答案：A</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html</a></p>

<p>解析：这道题有点过时了，当时US-STANDARD不支持read-after-write，使用的是eventual consistency，所以当写入一个object以后，不一定会立即读到。现在已经没有US-STANDARD region了（被重命名了）。而且所有region都支持read-after-write了。</p>

<hr />

<p>You have reached your account limit for the number of CloudFormation stacks in a region. How do you
increase your limit?</p>

<ol type="a">
<li><p>Make an API call</p></li>
<li><p>Contact AWS</p></li>
<li><p>Use the console</p></li>
<li><p>You cannot increase your limit</p></li>
</ol>


<p>答案：B</p>

<p>参考文档： <a href="http://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#limits_cloudformation">http://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#limits_cloudformation</a></p>

<p><a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-limits.html">http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-limits.html</a></p>

<p>解析：stack数量的限制只是一个软限制，所以可以通过向AWS发请求来放宽限制。</p>

<hr />

<p>Which statements about DynamoDB are true? (Pick 2 correct answers)</p>

<ol type="a">
<li><p>DynamoDB uses a pessimistic locking model</p></li>
<li><p>DynamoDB uses optimistic concurrency control</p></li>
<li><p>DynamoDB uses conditional writes for consistency</p></li>
<li><p>DynamoDB restricts item access during reads</p></li>
<li><p>DynamoDB restricts item access during writes</p></li>
</ol>


<p>答案：BC</p>

<p>参考文档： <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/WorkingWithItems.html">http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/WorkingWithItems.html</a>
解析：这个题目需要对DynamoDB有深入了解，具体可以查看相关文档</p>

<hr />

<p>What is one key difference between an Amazon EBS-backed and an instance-store backed instance?</p>

<ol type="a">
<li><p>Instance-store backed instances can be stopped and restarted</p></li>
<li><p>Auto scaling requires using Amazon EBS-backed instances</p></li>
<li><p>Amazon EBS-backed instances can be stopped and restarted</p></li>
<li><p>Virtual Private Cloud requires EBS backed instances</p></li>
</ol>


<p>答案：C</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ComponentsAMIs.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ComponentsAMIs.html</a></p>

<hr />

<p>A corporate web application is deployed within an Amazon VPC, and is connected to the corporate data
center via IPSec VPN. The application must authenticate against the on-premise LDAP server. Once
authenticated, logged-in users can only access an S3 keyspace specific to the user.
Which two approaches can satisfy the objectives?</p>

<ol type="a">
<li><p>The application authenticates against LDAP. The application then calls the IAM Security Service to login
to IAM using the LDAP credentials. The application can use the IAM temporary credentials to access the
appropriate S3 bucket.</p></li>
<li><p>The application authenticates against LDAP, and retrieves the name of an IAM role associated with the
user. The application then calls the IAM Security Token Service to assume that IAM Role. The application
can use the temporary credentials to access the appropriate S3 bucket.</p></li>
<li><p>The application authenticates against IAM Security Token Service using the LDAP credentials. The
application uses those temporary AWS security credentials to access the appropriate S3 bucket.</p></li>
<li><p>Develop an identity broker which authenticates against LDAP, and then calls IAM Security Token Service
to get IAM federated user credentials. The application calls the identity broker to get IAM federated user
credentials with access to the appropriate S3 bucket.</p></li>
<li><p>Develop an identity broker which authenticates against IAM Security Token Service to assume an IAM
Role to get temporary AWS security credentials. The application calls the identity broker to get AWS
temporary security credentials with access to the appropriate S3 bucket.</p></li>
</ol>


<p>答案：BD</p>

<p>参考文档：<a href="https://aws.amazon.com/blogs/aws/aws-identity-and-access-management-now-with-identity-federation/">https://aws.amazon.com/blogs/aws/aws-identity-and-access-management-now-with-identity-federation/</a></p>

<p>解析：IAM认证一向是考察的重点。B采用的是assume role的方式，D采用的是federated user的方式。
A错误在于没有login to IAM这个功能；C、E错误在于认证应该通过LDAP，而不是STS。</p>

<hr />

<p>You run an ad-supported photo sharing website using S3 to serve photos to visitors of your site. At some
point you find out that other sites have been linking to the photos on your site, causing loss to your
business. What is an effective method to mitigate this?</p>

<ol type="a">
<li><p>Use CloudFront distributions for static content.</p></li>
<li><p>Remove public read access and use signed URLs with expiry dates.</p></li>
<li><p>Block the IPs of the offending websites in Security Groups.</p></li>
<li><p>Store photos on an EBS volume of the web server.</p></li>
</ol>


<p>答案：B</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/ShareObjectPreSignedURL.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/ShareObjectPreSignedURL.html</a></p>

<p>解析：使用signed URL或者创建bucket policy都可以防止盗链。</p>

<hr />

<p>Your application is trying to upload a 6 GB file to Simple Storage Service and receive a &ldquo;Your proposed
upload exceeds the maximum allowed object size.&rdquo; error message. What is a possible solution for this?</p>

<ol type="a">
<li><p>None, Simple Storage Service objects are limited to 5 GB</p></li>
<li><p>Use the multi-part upload API for this object</p></li>
<li><p>Use the large object upload API for this object</p></li>
<li><p>Contact support to increase your object size limit</p></li>
<li><p>Upload to a different region</p></li>
</ol>


<p>答案:B</p>

<p>参考文档：<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UploadingObjects.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/UploadingObjects.html</a></p>

<p>解析：所以S3能存放的最大对象是5T，但单个put操作支持的最大对象只有5G，超过5G的需要使用multi-part upload API上传。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在AWS中创建NAT节点]]></title>
    <link href="http://www.huangbowen.net/blog/2015/01/17/create-nat-node-in-aws/"/>
    <updated>2015-01-17T23:23:15+08:00</updated>
    <id>http://www.huangbowen.net/blog/2015/01/17/create-nat-node-in-aws</id>
    <content type="html"><![CDATA[<p>NAT, Network Address Translation,即网络地址转换。当内部网络的主机想要访问外网，但是又不想直接暴露给公网，可以通过NAT节点来访问外网。这样做有两个好处，第一是内网的主机无需拥有公网IP就可访问网络（NAT节点需要公网IP），节约了公网IP；第二是内网的主机由于没有公网IP，所以公网的电脑无法访问到它，这样就可以隐藏自己。一个很经典的示例是假如你有一台数据库服务器放置在内网中，为在同一个内网中的web服务器提供数据服务，为了安全性考虑你不会把它直接暴露在公网中。但是数据库服务器有时候自己是需要访问公网的，比如需要升级数据库服务器中的某些软件等。采用NAT方案可以很好的解决这个问题。</p>

<!-- more -->


<p>下图是NAT节点的功能示意图。</p>

<p><img src="/images/natnode.png"></p>

<p>一些路由器或者装有特定软件的主机都可以作为NAT节点。在AWS中如果你想创建一个NAT节点的话那是非常的方便，因为AWS直接提供了预装了NAT软件的AMI，你只需直接使用该AMI在你的公共子网中实例化一台机器，并进行相应的配置即可。</p>

<p>下面的图展示了在AWS中的一个经典的VPC架构。该VPC里面建立了两个子网，一个是公共子网，通过Intenet Geteway和公网连接；一个是私有子网，无法直接访问公网。然后在公共子网中建立了一个EC2机器，使用的是AWS提供的具有NAT功能的AMI，并为它分配了一个弹性IP，这样该EC2就是一个NAT节点。在私有子网的所有机器都具有了通过该NAT节点访问外网的能力。</p>

<p><img src="/images/vpcandnat.png"></p>

<p>为了创建这样一套网络及机器，最简便的方式当然是使用AWS提供的CloudFormation了。如果不了解CloudFormation，可以看我以前写过的一篇文章 <a href="http://www.huangbowen.net/blog/2013/10/23/aws-cloudformation/">《亚马逊云服务之CloudFormation》</a>。下面展示的是创建该整个VPC的CloudFormation脚本。</p>

<pre><code class="json">
{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Setup a vpc, which contains two subnets and one NAT machine",
  "Parameters": {
    "KeyName": {
      "Description": "Name of and existing EC2 KeyPair to enable SSH access to the instance",
      "Type": "String"
    },
    "VpcCidr": {
      "Description": "CIDR address for the VPC to be created.",
      "Type": "String",
      "Default": "10.2.0.0/16"
    },
    "AnyCidr": {
      "Description": "CIDR address for Any Where.",
      "Type": "String",
      "Default": "0.0.0.0/0"
    },
    "AvailabilityZone1": {
      "Description": "First AZ.",
      "Type": "String",
      "Default": "cn-north-1a"
    },
    "PublicSubnetCidr": {
      "Description": "Address range for a public subnet to be created in AZ1.",
      "Type": "String",
      "Default": "10.2.1.0/24"
    },
    "PrivateSubnetCidr": {
      "Description": "Address range for private subnet.",
      "Type": "String",
      "Default": "10.2.2.0/24"
    },
    "NATInstanceType": {
      "Description": "Instance type for NAT",
      "Type": "String",
      "Default": "t1.micro"
    }
  },
  "Mappings": {
    "AWSNATAMI": {
      "cn-north-1": {
        "AMI": "ami-eab220d3"
      }
    }
  },
  "Resources": {
    "VPC": {
      "Type": "AWS::EC2::VPC",
      "Properties": {
        "CidrBlock": {
          "Ref": "VpcCidr"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "VPC"
          }
        ]
      }
    },
    "InternetGateWay": {
      "Type": "AWS::EC2::InternetGateway",
      "Properties": {
        "Tags": [
          {
            "Key": "Name",
            "Value": "INTERNET_GATEWAY"
          }
        ]
      }
    },
    "GatewayToInternet": {
      "Type": "AWS::EC2::VPCGatewayAttachment",
      "Properties": {
        "InternetGatewayId": {
          "Ref": "InternetGateWay"
        },
        "VpcId": {
          "Ref": "VPC"
        }
      }
    },
    "PublicSubnet": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": {
          "Ref": "PublicSubnetCidr"
        },
        "AvailabilityZone": {
          "Ref": "AvailabilityZone1"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "PUBLIC_SUBNET"
          }
        ],
        "VpcId": {
          "Ref": "VPC"
        }
      }
    },
    "PrivateSubnet": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": {
          "Ref": "PrivateSubnetCidr"
        },
        "AvailabilityZone": {
          "Ref": "AvailabilityZone1"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "PRIVATE_SUBNET"
          }
        ],
        "VpcId": {
          "Ref": "VPC"
        }
      }
    },
    "DefaultSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Default Instance SecurityGroup",
        "SecurityGroupIngress": [
          {
            "IpProtocol": "-1",
            "CidrIp": {
              "Ref": "VpcCidr"
            }
          }
        ],
        "Tags": [
          {
            "Key": "Name",
            "Value": "DEFAULT_SECURITY_GROUP"
          }
        ],
        "VpcId": {
          "Ref": "VPC"
        }
      }
    },
    "PublicRouteTable": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "PUBLIC_ROUTE_TABLE"
          }
        ]
      }
    },
    "PublicRoute": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "DestinationCidrBlock": {
          "Ref": "AnyCidr"
        },
        "GatewayId": {
          "Ref": "InternetGateWay"
        },
        "RouteTableId": {
          "Ref": "PublicRouteTable"
        }
      }
    },
    "PublicSubnetRouteTableAssociation": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "PublicRouteTable"
        },
        "SubnetId": {
          "Ref": "PublicSubnet"
        }
      }
    },
    "NATEIP": {
      "Type": "AWS::EC2::EIP",
      "Properties": {
        "InstanceId": {
          "Ref": "NATInstance"
        }
      }
    },
    "NATInstance": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "InstanceType": {
          "Ref": "NATInstanceType"
        },
        "KeyName": {
          "Ref": "KeyName"
        },
        "SubnetId": {
          "Ref": "PublicSubnet"
        },
        "SourceDestCheck": false,
        "ImageId": {
          "Fn::FindInMap": [
            "AWSNATAMI",
            {
              "Ref": "AWS::Region"
            },
            "AMI"
          ]
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "NAT"
          }
        ],
        "SecurityGroupIds": [
          {
            "Ref": "NATSecurityGroup"
          }
        ]
      }
    },
    "PrivateSubnetRouteTable": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "PRIVATE_SUBNET_ROUTE_TABLE"
          }
        ]
      }
    },
    "PrivateSubnetRoute": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "DestinationCidrBlock": {
          "Ref": "AnyCidr"
        },
        "InstanceId": {
          "Ref": "NATInstance"
        },
        "RouteTableId": {
          "Ref": "PrivateSubnetRouteTable"
        }
      }
    },
    "PrivateSubnetRouteTableAssociation": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "PrivateSubnetRouteTable"
        },
        "SubnetId": {
          "Ref": "PrivateSubnet"
        }
      }
    },
    "NATSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "NAT Instance SecurityGroup",
        "SecurityGroupIngress": [
          {
            "IpProtocol": "-1",
            "CidrIp": {
              "Ref": "VpcCidr"
            }
          }
        ],
        "Tags": [
          {
            "Key": "Name",
            "Value": "NAT_SECURITY_GROUP"
          }
        ],
        "VpcId": {
          "Ref": "VPC"
        }
      }
    }
  },
  "Outputs": {
    "VPCId": {
      "Description": "VPC id",
      "Value": {
        "Ref": "VPC"
      }
    },
    "PublicSubnetId": {
      "Description": "public subnet id",
      "Value": {
        "Ref": "PublicSubnet"
      }
    },
    "PrivateSubnetId": {
      "Description": "private subnet id",
      "Value": {
        "Ref": "PrivateSubnet"
      }
    },
    "NATSecurityGroupId": {
      "Description": "NAT SG id",
      "Value": {
        "Ref": "NATSecurityGroup"
      }
    },
    "NATEIP": {
      "Description": "NAT Server EIP.",
      "Value": {
        "Ref": "NATEIP"
      }
    }
  }
}
</code></pre>

<p>你可以通过AWS提供的图形化界面AWS Management Console来使用该CloudFormation脚本，也可以通过AWS CLI来使用。使用以上的CloudFormation脚本创建的VPC可以一键创建你AWS中的基础网络架构。从此再也不用为配置网络发愁了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AWS助理架构师样题解析]]></title>
    <link href="http://www.huangbowen.net/blog/2014/10/22/aws-cert-sample-question/"/>
    <updated>2014-10-22T20:33:42+08:00</updated>
    <id>http://www.huangbowen.net/blog/2014/10/22/aws-cert-sample-question</id>
    <content type="html"><![CDATA[<p>AWS 认证是对其在 AWS 平台上设计、部署和管理应用程序所需的技能和技术知识的一种认可。获得证书有助于证明您使用 AWS 的丰富经验和可信度，同时还能提升您所在的组织熟练使用基于 AWS 云服务应用的整体水平。</p>

<!-- more -->


<p>目前亚马逊推出了Solutions Architect,Developer和SysOps Administrator三个方向的认证。每个方向又分为Associate Level(助理级)，Professional Level（专家级）和Master Level（大师级）。当然目前只有Solutions Architect开放了Professional Level,其他层级会逐步开放中。</p>

<p><img src="/images/cert_roadmap_Q214_EN.png"></p>

<p>最近在打算备考AWS的Solutions Architect的Associate Level。关于这个考试AWS出了一个考试样题。下载链接：<a href="http://awstrainingandcertification.s3.amazonaws.com/production/AWS_certified_solutions_architect_associate_blueprint.pdf">http://awstrainingandcertification.s3.amazonaws.com/production/AWS_certified_solutions_architect_associate_blueprint.pdf</a></p>

<p>我把样题都做了一遍，并且都尽力找到了答案在AWS文档中的出处。以下是样题和解答。</p>

<p>Amazon Glacier is designed for: (Choose 2 answers)</p>

<p>A.active database storage.</p>

<p>B.infrequently accessed data.</p>

<p>C.data archives.</p>

<p>D.frequently accessed data.</p>

<p>E.cached session data.</p>

<p>答案：B和C</p>

<p>出处文档：<a href="http://aws.amazon.com/glacier/?nc2=h_ls">http://aws.amazon.com/glacier/?nc2=h_ls</a></p>

<blockquote><blockquote><p>Amazon Glacier is an extremely low-cost cloud archive storage service that provides secure and durable storage for data archiving and online backup. In order to keep costs low, Amazon Glacier is optimized for data that is infrequently accessed and for which retrieval times of several hours are suitable.</p></blockquote></blockquote>

<p>Your web application front end consists of multiple EC2 instances behind an Elastic Load Balancer. You
configured ELB to perform health checks on these EC2 instances. If an instance fails to pass health
checks, which statement will be true?</p>

<p>A.The instance is replaced automatically by the ELB.</p>

<p>B.The instance gets terminated automatically by the ELB.</p>

<p>C.The ELB stops sending traffic to the instance that failed its health check.</p>

<p>D.The instance gets quarantined by the ELB for root cause analysis.</p>

<p>答案：C</p>

<p>出处文档：<a href="http://aws.amazon.com/elasticloadbalancing/?nc2=h_ls">http://aws.amazon.com/elasticloadbalancing/?nc2=h_ls</a></p>

<blockquote><blockquote><p>Elastic Load Balancing ensures that only healthy Amazon EC2 instances receive traffic by detecting unhealthy instances and rerouting traffic across the remaining healthy instances.</p></blockquote></blockquote>

<p>You are building a system to distribute confidential training videos to employees. Using CloudFront, what
method could be used to serve content that is stored in S3, but not publically accessible from S3
directly?</p>

<p>A.Create an Origin Access Identity (OAI) for CloudFront and grant access to the objects in your S3
bucket to that OAI.</p>

<p>B.Add the CloudFront account security group “amazon-cf/amazon-cf-sg” to the appropriate S3 bucket
policy.</p>

<p>C.Create an Identity and Access Management (IAM) User for CloudFront and grant access to the
objects in your S3 bucket to that IAM User.</p>

<p>D.Create a S3 bucket policy that lists the CloudFront distribution ID as the Principal and the target
bucket as the Amazon Resource Name (ARN).</p>

<p>答案：A</p>

<p>OAI介绍：<a href="http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html">http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html</a></p>

<p>OAI基本上就是专为这个场景引入的。</p>

<p>Which of the following will occur when an EC2 instance in a VPC (Virtual Private Cloud) with an
associated Elastic IP is stopped and started? (Choose 2 answers)</p>

<p>A.The Elastic IP will be dissociated from the instance</p>

<p>B.All data on instance-store devices will be lost</p>

<p>C.All data on EBS (Elastic Block Store) devices will be lost</p>

<p>D.The ENI (Elastic Network Interface) is detached</p>

<p>E.The underlying host for the instance is changed</p>

<p>答案：B E</p>

<p>这个题难度比较高。可以用排除法，A，C，D肯定不能选，B是对的，那么剩下一个答案只有E了啊。</p>

<p>In the basic monitoring package for EC2, Amazon CloudWatch provides the following metrics:</p>

<p>A.web server visible metrics such as number failed transaction
requests</p>

<p>B.operating system visible metrics such as memory utilization</p>

<p>C.database visible metrics such as number of connections</p>

<p>D.hypervisor visible metrics such as CPU utilization</p>

<p>答案：D</p>

<p>注意题干说的是basic monitoring,A,B,C肯定不对。具体支持的监控指标可见<a href="http://docs.aws.amazon.com/zh_cn/AmazonCloudWatch/latest/DeveloperGuide/ec2-metricscollected.html#ec2-metrics">http://docs.aws.amazon.com/zh_cn/AmazonCloudWatch/latest/DeveloperGuide/ec2-metricscollected.html#ec2-metrics</a>。D是唯一接近正确答案的，但是我对hypervisor了解不多，有些迷惑人。</p>

<p>Which is an operational process performed by AWS for data security?</p>

<p>A.AES-256 encryption of data stored on any shared storage device</p>

<p>B.Decommissioning of storage devices using industry-standard practices</p>

<p>C.Background virus scans of EBS volumes and EBS snapshots</p>

<p>D.Replication of data across multiple AWS Regions</p>

<p>E.Secure wiping of EBS data when an EBS volume is unmounted</p>

<p>答案：B</p>

<p>具体可以查看 was security whitepaper: <a href="https://media.amazonwebservices.com/pdf/AWS_Security_Whitepaper.pdf">https://media.amazonwebservices.com/pdf/AWS_Security_Whitepaper.pdf</a></p>

<p>Storage Device Decommissioning 小节里面有这么一句话：</p>

<blockquote><blockquote><p>All decommissioned magnetic storage devices are
degaussed and physically destroyed in accordance with industry-standard practices.</p></blockquote></blockquote>

<p>To protect S3 data from both accidental deletion and accidental overwriting, you should:</p>

<p>A.enable S3 versioning on the bucket</p>

<p>B.access S3 data using only signed URLs</p>

<p>C.disable S3 delete using an IAM bucket policy</p>

<p>D.enable S3 Reduced Redundancy Storage</p>

<p>E.enable Multi-Factor Authentication (MFA) protected access</p>

<p>答案：A</p>

<p>出处文档:<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/Versioning.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/Versioning.html</a></p>

<blockquote><blockquote><p>Versioning-enabled buckets enable you to recover objects from accidental deletion or overwrite.</p></blockquote></blockquote>
]]></content>
  </entry>
  
</feed>
